{"version":3,"sources":["app.js"],"names":["$","tooltip","slider","min","max","value","step","focus","tooltip_position","shirt","standard","name","selected","premium","triblend","quantity","xs","s","m","l","xl","xxl","xxxl","addons","inkCustom","isUnit","price","text","inkChange","secondPrint","opaquePrint","neckTags","rushOrder","noRush","oneDay","twoDays","tenDays","PRICE","1","2","3","4","5","6","SCREEN_PRICE","TOTAL_QUANTITY","SHIRT","COLOR","COLOR_NOT_SURE","SHIRT_PRICE","validateEmail","email","test","sendEmail","order","orderId","post","params","JSON","stringify","res","confirmation","message","parse","alert","window","location","applyShirtBorderStyle","i","css","border","transform","click","event","preventDefault","currentColor","blankColor","onBlankColorClick","target","style","backgroundColor","updateSliderTotalQuantity","totalQuantityValue","val","onChangeQuantitySlider","size","dataset","newValue","updateAddOns","key","attributes","data","checked","updateRushOrder","temp","Object","assign","submitQuote","length","INDEX","UNIT_PRICE","FINAL_PRICE","FINAL_PRICE_TEMP","selectedAddon","item","toFixed","color","quantityModel","quantityTotal","addonModel","rushModel","unitPrice","totalPrice","additional","result","_id","currentTarget","parseInt"],"mappings":"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","file":"app.min.js","sourcesContent":["// bootstrap javascript init\n$(function() {\n  $('[data-toggle=\"tooltip\"]').tooltip();\n});\n\n// bootstrap-slider init\n$(\".quantity-slider\").slider({\n  min: 0,\n  max: 100,\n  value: 0,\n  step: 1,\n  focus: true,\n  tooltip_position: \"top\",\n  tooltip: \"always\"\n});\n\n// SHIRT MODEL\nvar shirt = {\n  standard: {\n    name: \"shirt-standard\",\n    selected: false\n  },\n  premium: {\n    name: \"shirt-premium\",\n    selected: false\n  },\n  triblend: {\n    name: \"shirt-triblend\",\n    selected: false\n  }\n};\n\n// QUANTITY MODEL\nvar quantity = {\n  xs: 0,\n  s: 0,\n  m: 0,\n  l: 0,\n  xl: 0,\n  xxl: 0,\n  xxxl: 0\n};\n\n// CUSTOMIZATION MODEL\nvar addons = {\n  inkCustom: {\n    selected: false,\n    isUnit: false,\n    price: 20,\n    text: \"Custom Ink Color\"\n  },\n  inkChange: {\n    selected: false,\n    isUnit: false,\n    price: 10,\n    text: \"Ink Color Change\"\n  },\n  secondPrint: {\n    selected: false,\n    isUnit: false,\n    price: 0.5,\n    text: \"2nd Print Location\"\n  },\n  opaquePrint: {\n    selected: false,\n    isUnit: true,\n    price: 0.25,\n    text: \"Opaque Prints\"\n  },\n  neckTags: {\n    selected: false,\n    isUnit: true,\n    price: 0.5,\n    text: \"Printed Neck Tags\"\n  },\n  selected: \"None\"\n};\n\n// RUSH ORDER MODEL\nvar rushOrder = {\n  noRush: true,\n  oneDay: false,\n  twoDays: false,\n  tenDays: false,\n  selected: \"Standard Turnaround\"\n};\n\n// PRICE CHART MODEL\nvar PRICE = {\n  1: [8, 3, 2.25, 2, 1.75],\n  2: [11, 4, 3.25, 3, 2.85],\n  3: [11, 5, 4.25, 4, 3.85],\n  4: [11, 6, 5.25, 5, 4.85],\n  5: [11, 6, 6.15, 6, 5.6],\n  6: [11, 6, 7.15, 7, 6.75]\n};\n\n// OTHER CONSTANTS & VARIABLES\nvar SCREEN_PRICE = 20;\nvar TOTAL_QUANTITY = 0;\nvar SHIRT = null;\nvar COLOR = null;\nvar COLOR_NOT_SURE = false;\nvar SHIRT_PRICE = null;\n\n// Email validator\nfunction validateEmail(email) {\n  if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\n    return true;\n  }\n  return false;\n}\n\n// Email API handler\nfunction sendEmail(order, orderId) {\n  $.post(\"email\", { params: JSON.stringify(order) }, function(res) {\n    if (res.confirmation === \"success\") {\n      // on success, go to quote page\n      window.location = \"/quote/\" + orderId;\n      return;\n    } else {\n      // on failure, alert error message\n      var message = JSON.parse(res.message);\n      alert(message);\n      return;\n    }\n  });\n}\n\n// Shirt handlers\n$(\"#shirt-standard\").click(function(event) {\n  event.preventDefault();\n  shirt.standard.selected = true;\n  shirt.premium.selected = false;\n  shirt.triblend.selected = false;\n  SHIRT = \"Standard\";\n  SHIRT_PRICE = 3;\n  applyShirtBorderStyle();\n});\n\n$(\"#shirt-premium\").click(function(event) {\n  event.preventDefault();\n  shirt.premium.selected = true;\n  shirt.triblend.selected = false;\n  shirt.standard.selected = false;\n  SHIRT = \"Premium\";\n  SHIRT_PRICE = 5;\n  applyShirtBorderStyle();\n});\n\n$(\"#shirt-triblend\").click(function(event) {\n  event.preventDefault();\n  shirt.triblend.selected = true;\n  shirt.standard.selected = false;\n  shirt.premium.selected = false;\n  SHIRT = \"Triblend\";\n  SHIRT_PRICE = 7;\n  applyShirtBorderStyle();\n});\n\nfunction applyShirtBorderStyle() {\n  for (i in shirt) {\n    if (shirt[i].selected) {\n      $(\"#\" + shirt[i].name).css({\n        border: \"3px solid #f44336\",\n        transform: \"scale(1.1)\"\n      });\n    } else {\n      $(\"#\" + shirt[i].name).css({\n        border: \"none\",\n        transform: \"scale(1)\"\n      });\n    }\n  }\n}\n\n// Color handlers\nvar currentColor = null;\nvar blankColor = null;\n$(\"#color-select li a\").click(function(event) {\n  event.preventDefault();\n  if (blankColor) {\n    blankColor.style.backgroundColor = \"#ffffff\";\n  }\n  if (currentColor) {\n    currentColor.style.backgroundColor = \"#ffffff\";\n  }\n  currentColor = event.currentTarget;\n  currentColor.style.backgroundColor = \"#eeeeee\";\n  COLOR = parseInt(currentColor.text);\n  COLOR_NOT_SURE = false;\n});\n\nfunction onBlankColorClick(event) {\n  event.preventDefault();\n  blankColor = event.target;\n  blankColor.style.backgroundColor = \"#eeeeee\";\n  COLOR = \"1\";\n  COLOR_NOT_SURE = true;\n  if (currentColor) {\n    currentColor.style.backgroundColor = \"#ffffff\";\n    currentColor = null;\n  }\n}\n\n// Quantity handlers\nfunction updateSliderTotalQuantity() {\n  var totalQuantityValue =\n    quantity.xs +\n    quantity.s +\n    quantity.m +\n    quantity.l +\n    quantity.xl +\n    quantity.xxl +\n    quantity.xxxl;\n  $(\"#slider-quantity-total\").val(totalQuantityValue);\n  TOTAL_QUANTITY = totalQuantityValue;\n}\n\nfunction onChangeQuantitySlider(event) {\n  var size = event.target.dataset.size;\n  var value = event.value.newValue;\n  quantity[size] = value;\n  updateSliderTotalQuantity();\n}\n\n// Add-on handler\nfunction updateAddOns(event) {\n  event.preventDefault();\n  var key = event.target.attributes.data.value;\n  var value = event.target.checked;\n  addons[key].selected = value;\n}\n\n// Rush order handler\nfunction updateRushOrder(event) {\n  event.preventDefault();\n  var key = event.target.attributes.data.value;\n  var value = event.target.checked;\n  var temp = {\n    noRush: false,\n    oneDay: false,\n    twoDays: false,\n    tenDays: false\n  };\n  temp[key] = value;\n  rushOrder = Object.assign({}, temp);\n}\n\n// Submit Button Hanlder\nfunction submitQuote(event) {\n  event.preventDefault();\n  // validate quote info\n  if (SHIRT === null) {\n    alert(\"Please select a shirt\");\n    return;\n  }\n  if (COLOR === null) {\n    alert(\"Please select a color option\");\n    return;\n  }\n  if (TOTAL_QUANTITY <= 0) {\n    alert(\"Please enter a quantity\");\n    return;\n  }\n\n  // validate customer info\n  var name = $(\"#customer-name\").val();\n  var email = $(\"#customer-email\").val();\n  if (name.length === 0) {\n    alert(\"Please enter your name.\");\n    return;\n  }\n  if (email.length === 0) {\n    alert(\"Please enter your email address.\");\n    return;\n  }\n  if (!validateEmail(email)) {\n    alert(\"Please enter a valid email address.\");\n    return;\n  }\n\n  // shirt price index\n  var INDEX = 0;\n  if (TOTAL_QUANTITY > 23) {\n    INDEX++;\n  }\n  if (TOTAL_QUANTITY > 49) {\n    INDEX++;\n  }\n  if (TOTAL_QUANTITY > 99) {\n    INDEX++;\n  }\n  if (TOTAL_QUANTITY > 249) {\n    INDEX++;\n  }\n\n  var COLOR_PRICE;\n\n  if (COLOR === \"0\") {\n    COLOR_PRICE = 0;\n  } else {\n    COLOR_PRICE = PRICE[COLOR][INDEX];\n  }\n\n  var UNIT_PRICE = COLOR_PRICE + SHIRT_PRICE;\n  var FINAL_PRICE = UNIT_PRICE * TOTAL_QUANTITY;\n  var FINAL_PRICE_TEMP = FINAL_PRICE;\n  var ADD_ONS = \"\";\n\n  // addon price\n  var selectedAddon = \"\";\n  for (i in addons) {\n    if (addons[i].selected) {\n      var item = addons[i];\n      if (i === \"secondPrint\") {\n        FINAL_PRICE += FINAL_PRICE_TEMP * item.price;\n        selectedAddon += \"2nd Print Location, \";\n      } else if (i === \"opaquePrint\" || i === \"neckTags\") {\n        var SUM = item.price * TOTAL_QUANTITY;\n        FINAL_PRICE += SUM;\n        UNIT_PRICE += item.price;\n        if (i === \"opaquePrint\") {\n          selectedAddon += \"Opaque Prints, \";\n        } else {\n          selectedAddon += \"Neck Tags\";\n        }\n      } else {\n        FINAL_PRICE += item.price;\n        if (i === \"inkCustom\") {\n          selectedAddon += \"Custom Ink Color, \";\n        } else {\n          selectedAddon += \"Ink Color Change, \";\n        }\n      }\n    }\n  }\n  if(selectedAddon !== \"\") {\n    addons.selected = selectedAddon;\n  }\n\n  for (i in rushOrder) {\n    if (rushOrder[i]) {\n      if (i === \"oneDay\") {\n        FINAL_PRICE = FINAL_PRICE + FINAL_PRICE * 0.5;\n        rushOrder.selected = \"1 Business Day\";\n      }\n      if (i === \"twoDays\") {\n        FINAL_PRICE = FINAL_PRICE + FINAL_PRICE * 0.4;\n        rushOrder.selected = \"2 Business Days\";\n      }\n      if (i === \"tenDays\") {\n        FINAL_PRICE = FINAL_PRICE + FINAL_PRICE * 0.25;\n        rushOrder.selected = \"< 10 Business Days\";\n      }\n    }\n  }\n\n  FINAL_PRICE = FINAL_PRICE.toFixed(2);\n\n  if(COLOR_NOT_SURE) {\n    COLOR = \"I'm not sure / I need a design\";\n  }\n\n  var order = {\n    shirt: SHIRT,\n    color: COLOR,\n    quantityModel: quantity,\n    quantityTotal: TOTAL_QUANTITY,\n    addonModel: addons,\n    rushModel: rushOrder,\n    unitPrice: UNIT_PRICE,\n    totalPrice: FINAL_PRICE,\n    name: name,\n    email: email,\n    additional: $(\"#input-additional-info\").val()\n  };\n\n  $.post(\"api/quote\", { params: JSON.stringify(order) }, function(res) {\n    if (res.confirmation === \"success\") {\n      var orderId = res.result._id;\n      sendEmail(order, orderId);\n      // \n    } else {\n      alert(res.message);\n      return;\n    }\n  });\n}\n"]}